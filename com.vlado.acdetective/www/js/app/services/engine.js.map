{"version":3,"sources":["app/services/engine.ts"],"names":["Engine","Engine.constructor","Engine.constructor.init","Engine.constructor.resize","Engine.constructor.animate"],"mappings":"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","file":"app/services/engine.js","sourcesContent":["\ndeclare var THREE: any;\n\nexport class Engine {\n\n\tpublic scene: any;\n    public camera: any;\n    public renderer: any;\n    public mesh: any;\n    public controls: any;\n    public geometry: any;\n    public container: any;\n\n    constructor(appElement: any) {\n\n        init();\n        animate();\n\n        function init() {\n\n            this.container = appElement;\n            this.scene = new THREE.Scene();\n\n            this.camera = new THREE.PerspectiveCamera(90, window.innerWidth / window.innerHeight, 0.001, 700);\n            this.camera.position.set(0, 10, 0);\n\n            // crosshair\n            let meshMaterial = new THREE.MeshBasicMaterial({ color: 0xFF00FF, wireframe: true });\n            let cube = new THREE.Mesh(new THREE.CubeGeometry(5, 5, 5), meshMaterial);\n            cube.position.set(25, 25, 25);\n            this.scene.add(cube);\n\n            this.scene.add(this.camera);\n\n            this.renderer = new THREE.WebGLRenderer();\n            this.renderer.setSize(window.innerWidth, window.innerHeight);\n            this.renderer.domElement.style.position = \"absolute\";\n            this.renderer.domElement.style.top = 0;\n            this.container.appendChild(this.renderer.domElement);\n\n            this.effect = new THREE.StereoEffect(this.renderer);\n            this.effect.eyeSeparation = -1;\n\n            this.geometry = new THREE.SphereGeometry(500, 16, 8);\n            this.geometry.applyMatrix(new THREE.Matrix4().makeScale(-1, 1, 1));\n\n            let texloader = new THREE.TextureLoader();\n            texloader.anisotropy = 16;\n\n            let material = new THREE.MeshBasicMaterial({\n                map: texloader.load(\"images/scene 3.jpg\")\n            });\n\n            let mesh = new THREE.Mesh(this.geometry, material);\n            this.scene.add(mesh);\n\n            // let geometry2 = new THREE.BoxGeometry(100, 100, 100, 4, 4, 4);\n            // let material2 = new THREE.MeshBasicMaterial({ color: 0xff00ff, side: THREE.BackSide, wireframe: true });\n            // let mesh2 = new THREE.Mesh(geometry2, material2);\n            // this.scene.add(mesh2);\n\n            window.addEventListener(\"resize\", resize, false);\n            window.addEventListener(\"click\", function() {\n                console.log(\"click\");\n            }, false);\n            setTimeout(resize, 1);\n\n            this.controls = new THREE.DeviceOrientationControls(this.camera, !0);\n            this.controls.connect();\n            this.controls.update();\n        }\n\n        function resize() {\n            this.camera.aspect = window.innerWidth / window.innerHeight;\n            this.camera.updateProjectionMatrix();\n\n            this.renderer.setSize(window.innerWidth, window.innerHeight);\n            this.effect.setSize(window.innerWidth, window.innerHeight);\n        }\n\n        function animate(t: any = null) {\n            requestAnimationFrame(animate);\n\n            this.controls.update();\n            // this.renderer.render(this.scene, this.camera);\n            this.effect.render(this.scene, this.camera);\n\n        }\n    }\n}\n"],"sourceRoot":"/source/"}